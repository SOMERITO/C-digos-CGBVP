<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ðŸš’ Claves CGBVP</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #fff5f5;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #c0392b;
        }
        input {
            width: 80%;
            padding: 10px;
            border: 2px solid #c0392b;
            border-radius: 10px;
            margin-bottom: 15px;
            box-sizing: border-box;
        }
        /* Estilos para la barra de filtros */
        #filtros {
            margin-bottom: 20px;
            display: flex; 
            flex-wrap: wrap; 
            justify-content: center;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
        }
        #filtros button {
            background-color: #eee;
            color: #333;
            border: 1px solid #ccc;
            padding: 8px 12px;
            margin: 4px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            font-size: 0.85em;
            white-space: nowrap;
        }
        /* Estilo para resaltar el botÃ³n activo */
        #filtros button.active,
        #filtros button:hover {
            background-color: #c0392b;
            color: white;
        }

        .item {
            background: white;
            border-left: 8px solid #c0392b;
            margin: 10px auto;
            padding: 10px;
            width: 80%;
            max-width: 600px;
            border-radius: 8px;
            text-align: left;
            display: flex;
            flex-direction: column;
        }
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        .codigo {
            font-weight: bold;
            color: #c0392b;
            margin-right: 10px;
            font-size: 1.1em;
        }
        .descripcion {
            font-size: 1em;
            flex-grow: 1;
        }
        .categoria-tag {
            font-size: 0.7em;
            color: #666;
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>ðŸš’ Claves CGBVP</h1>
    <input type="text" id="busqueda" placeholder="Buscar cÃ³digo o descripciÃ³n..." />

    <div id="filtros">
        <button data-filtro="Todos">Todos</button>
        <button data-filtro="Servicios">Servicios</button>
        <button data-filtro="Emergencias">Emergencias</button>
        <button data-filtro="Especiales">Especiales</button>
        <button data-filtro="JerarquÃ­as">JerarquÃ­as</button>
        <button data-filtro="CompaÃ±Ã­a">CompaÃ±Ã­a</button>
        <button data-filtro="Nacional">Nacional</button>
        <button data-filtro="Locales">Locales</button>
        <button data-filtro="Personal">Personal</button>
    </div>
    
    <div id="lista"></div>

    <script>
        // 1. DATASET COMPLETO CON LA PROPIEDAD "CATEGORIA"
        const claves = [
            // SECCIÃ“N 10. SERVICIOS
            { "codigo": "10.01", "descripcion": "Adelante", "categoria": "Servicios" },
            { "codigo": "10.02", "descripcion": "Operador de radio identifÃ­quese", "categoria": "Servicios" },
            { "codigo": "10.03", "descripcion": "Cambie frecuencia radial", "categoria": "Servicios" },
            { "codigo": "10.04", "descripcion": "Llame por telÃ©fono", "categoria": "Servicios" },
            { "codigo": "10.05", "descripcion": "Comprendido", "categoria": "Servicios" },
            { "codigo": "10.06", "descripcion": "Afirmativo", "categoria": "Servicios" },
            { "codigo": "10.07", "descripcion": "Se dirige / DirÃ­jase", "categoria": "Servicios" },
            { "codigo": "10.08", "descripcion": "Repita mensaje", "categoria": "Servicios" },
            { "codigo": "10.09", "descripcion": "Negativo", "categoria": "Servicios" },
            { "codigo": "10.10", "descripcion": "ComunicaciÃ³n con", "categoria": "Servicios" },
            { "codigo": "10.11", "descripcion": "Al mando de la unidad", "categoria": "Servicios" },
            { "codigo": "10.12", "descripcion": "Siga en escucha", "categoria": "Servicios" },
            { "codigo": "10.13", "descripcion": "Derrotero", "categoria": "Servicios" },
            { "codigo": "10.14", "descripcion": "Se consulta", "categoria": "Servicios" },
            { "codigo": "10.15", "descripcion": "Efectivos", "categoria": "Servicios" },
            { "codigo": "10.16", "descripcion": "Indique magnitud", "categoria": "Servicios" },
            { "codigo": "10.17", "descripcion": "Informe novedades", "categoria": "Servicios" },
            { "codigo": "10.18", "descripcion": "DirecciÃ³n", "categoria": "Servicios" },
            { "codigo": "10.19", "descripcion": "UbicaciÃ³n", "categoria": "Servicios" },
            { "codigo": "10.20", "descripcion": "En el lugar", "categoria": "Servicios" },
            { "codigo": "10.21", "descripcion": "LÃ­nea privada", "categoria": "Servicios" },
            { "codigo": "10.22", "descripcion": "En sintonÃ­a", "categoria": "Servicios" },
            { "codigo": "10.23", "descripcion": "Se retira del lugar", "categoria": "Servicios" },
            { "codigo": "10.24", "descripcion": "Urgente", "categoria": "Servicios" },
            { "codigo": "10.25", "descripcion": "Emergencia confirmada", "categoria": "Servicios" },
            { "codigo": "10.26", "descripcion": "En servicio", "categoria": "Servicios" },
            { "codigo": "10.27", "descripcion": "Disponible", "categoria": "Servicios" },
            { "codigo": "10.28", "descripcion": "Emergencia cancelada", "categoria": "Servicios" },
            { "codigo": "10.29", "descripcion": "Continue en alerta", "categoria": "Servicios" },
            { "codigo": "10.30", "descripcion": "Ingresa su base", "categoria": "Servicios" },
            { "codigo": "10.31", "descripcion": "Traslado / transporte", "categoria": "Servicios" },
            { "codigo": "10.32", "descripcion": "Emergencia en progreso", "categoria": "Servicios" },
            { "codigo": "10.33", "descripcion": "Emergencia controlada", "categoria": "Servicios" },
            { "codigo": "10.34", "descripcion": "Tome precauciones", "categoria": "Servicios" },
            { "codigo": "10.35", "descripcion": "Requiere policÃ­a", "categoria": "Servicios" },
            { "codigo": "10.36", "descripcion": "Fuera de sintonÃ­a", "categoria": "Servicios" },
            { "codigo": "10.37", "descripcion": "Requiere empresa elÃ©ctrica", "categoria": "Servicios" },
            { "codigo": "10.38", "descripcion": "Abastecimiento de...", "categoria": "Servicios" },
            { "codigo": "10.39", "descripcion": "Fuera de servicio", "categoria": "Servicios" },
            { "codigo": "10.40", "descripcion": "Espere ordenes", "categoria": "Servicios" },
            { "codigo": "10.41", "descripcion": "Herido", "categoria": "Servicios" },
            { "codigo": "10.42", "descripcion": "Muerto", "categoria": "Servicios" },
            { "codigo": "10.43", "descripcion": "Herido FFAA/FFPP", "categoria": "Servicios" },
            { "codigo": "10.44", "descripcion": "ParamÃ©dico", "categoria": "Servicios" },
            { "codigo": "10.45", "descripcion": "Medico", "categoria": "Servicios" },
            { "codigo": "10.46", "descripcion": "Enfermo", "categoria": "Servicios" },
            { "codigo": "10.47", "descripcion": "No interrumpir", "categoria": "Servicios" },
            { "codigo": "10.48", "descripcion": "Bombero piloto", "categoria": "Servicios" },
            { "codigo": "10.49", "descripcion": "Piloto rentado", "categoria": "Servicios" },
            { "codigo": "10.50", "descripcion": "En estado de alerta", "categoria": "Servicios" },
            { "codigo": "10.51", "descripcion": "Parturienta", "categoria": "Servicios" },
            { "codigo": "10.52", "descripcion": "Toque sirena", "categoria": "Servicios" },
            { "codigo": "10.53", "descripcion": "Regrese a su base", "categoria": "Servicios" },
            { "codigo": "10.54", "descripcion": "Prosiga la marcha", "categoria": "Servicios" },
            { "codigo": "10.55", "descripcion": "Requiere de empresa de saneamiento", "categoria": "Servicios" },
            { "codigo": "10.56", "descripcion": "Deje sin efecto", "categoria": "Servicios" },
            { "codigo": "10.57", "descripcion": "Utilice claves", "categoria": "Servicios" },
            { "codigo": "10.58", "descripcion": "Fin de estado de alerta", "categoria": "Servicios" },
            { "codigo": "10.59", "descripcion": "Guardia nocturna", "categoria": "Servicios" },
            { "codigo": "10.60", "descripcion": "Tipo de emergencia", "categoria": "Servicios" },

            // SECCIÃ“N 20. EMERGENCIAS
            { "codigo": "20.01", "descripcion": "Efectivo CGBVP accidentado", "categoria": "Emergencias" },
            { "codigo": "20.02", "descripcion": "VehÃ­culo CGBVP accidentado", "categoria": "Emergencias" },
            { "codigo": "20.03", "descripcion": "Atentado/artefacto explosivo", "categoria": "Emergencias" },
            { "codigo": "20.04", "descripcion": "Atropellado", "categoria": "Emergencias" },
            { "codigo": "20.05", "descripcion": "Ascensor atrapado", "categoria": "Emergencias" },
            { "codigo": "20.06", "descripcion": "InundaciÃ³n", "categoria": "Emergencias" },
            { "codigo": "20.07", "descripcion": "Falsa Alarma", "categoria": "Emergencias" },
            { "codigo": "20.08", "descripcion": "Incendio vehicular", "categoria": "Emergencias" },
            { "codigo": "20.09", "descripcion": "Derrumbe", "categoria": "Emergencias" },
            { "codigo": "20.10", "descripcion": "Derrame producto Â¿?", "categoria": "Emergencias" },
            { "codigo": "20.11", "descripcion": "Material peligros-indique", "categoria": "Emergencias" },
            { "codigo": "20.12", "descripcion": "Fuga de gas", "categoria": "Emergencias" },
            { "codigo": "20.13", "descripcion": "Grifo/cisterna", "categoria": "Emergencias" },
            { "codigo": "20.14", "descripcion": "Incendio/no apoyo", "categoria": "Emergencias" },
            { "codigo": "20.15", "descripcion": "Incendio/1 unidad de apoyo", "categoria": "Emergencias" },
            { "codigo": "20.16", "descripcion": "Incendio/2 unidad de apoyo", "categoria": "Emergencias" },
            { "codigo": "20.17", "descripcion": "Incendio/+2 unidad de apoyo", "categoria": "Emergencias" },
            { "codigo": "20.18", "descripcion": "Incendio/+3 unidad de apoyo", "categoria": "Emergencias" },
            { "codigo": "20.19", "descripcion": "CatÃ¡strofe-orden 7.11-7.12", "categoria": "Emergencias" },
            { "codigo": "20.20", "descripcion": "Incendio forestal", "categoria": "Emergencias" },
            { "codigo": "20.21", "descripcion": "Incendio terreno baldÃ­o", "categoria": "Emergencias" },
            { "codigo": "20.22", "descripcion": "Corto circuito", "categoria": "Emergencias" },
            { "codigo": "20.23", "descripcion": "Accidente vehicular", "categoria": "Emergencias" },
            { "codigo": "20.24", "descripcion": "Rescate /Atrapados", "categoria": "Emergencias" },
            { "codigo": "20.25", "descripcion": "Huayco/ErupciÃ³n volcÃ¡nica", "categoria": "Emergencias" },
            { "codigo": "20.26", "descripcion": "EvacuaciÃ³n/FumigaciÃ³n", "categoria": "Emergencias" },
            { "codigo": "20.27", "descripcion": "Poste elÃ©ctrico/aviso luminoso", "categoria": "Emergencias" },

            // SECCIÃ“N 30. SERVICIOS ESPECIALES
            { "codigo": "30.30", "descripcion": "Otro servicio/Servicio especial", "categoria": "Especiales" },
            { "codigo": "30.31", "descripcion": "Practicas/charlas/simulacros/ceremonias", "categoria": "Especiales" },
            { "codigo": "30.32", "descripcion": "Eventos/conciertos/festivales", "categoria": "Especiales" },
            { "codigo": "30.33", "descripcion": "Abrir puertas", "categoria": "Especiales" },
            { "codigo": "30.34", "descripcion": "Colocar letreros/pancartas", "categoria": "Especiales" },
            { "codigo": "30.35", "descripcion": "Velorio/Entierro", "categoria": "Especiales" },
            { "codigo": "30.36", "descripcion": "Apoyos sociales (servicios de agua/vacunaciÃ³n)", "categoria": "Especiales" },

            // SECCIÃ“N 3. JERARQUÃAS
            { "codigo": "3.01", "descripcion": "Brigadier General", "categoria": "JerarquÃ­as" },
            { "codigo": "3.02", "descripcion": "Brigadier Mayor", "categoria": "JerarquÃ­as" },
            { "codigo": "3.03", "descripcion": "Brigadier", "categoria": "JerarquÃ­as" },
            { "codigo": "3.04", "descripcion": "Teniente brigadier", "categoria": "JerarquÃ­as" },
            { "codigo": "3.05", "descripcion": "CapitÃ¡n", "categoria": "JerarquÃ­as" },
            { "codigo": "3.06", "descripcion": "Teniente", "categoria": "JerarquÃ­as" },
            { "codigo": "3.07", "descripcion": "sub. teniente", "categoria": "JerarquÃ­as" },
            { "codigo": "3.08", "descripcion": "Seccionario", "categoria": "JerarquÃ­as" },
            { "codigo": "3.09", "descripcion": "Alumno", "categoria": "JerarquÃ­as" },

            // SECCIÃ“N 7. COMANDO REGIONAL (Nacional)
            { "codigo": "7.11", "descripcion": "Comandante regional", "categoria": "Nacional" },
            { "codigo": "7.12", "descripcion": "Vice Comandante regional", "categoria": "Nacional" },
            { "codigo": "7.13", "descripcion": "Inspector regional", "categoria": "Nacional" },
            { "codigo": "7.14", "descripcion": "Presidente del concejo de disciplina", "categoria": "Nacional" },
            { "codigo": "7.16", "descripcion": "Jefe de brigada", "categoria": "Nacional" },
            { "codigo": "7.17", "descripcion": "Jefe de personal", "categoria": "Nacional" },
            { "codigo": "7.19", "descripcion": "Jefe de logÃ­stica y mantenimiento", "categoria": "Nacional" },
            { "codigo": "7.21", "descripcion": "Jefe de tÃ©cnica", "categoria": "Nacional" },
            { "codigo": "7.22", "descripcion": "Jefe de sanidad regional", "categoria": "Nacional" },
            { "codigo": "7.25", "descripcion": "Jefe de RRPP", "categoria": "Nacional" },

            // SECCIÃ“N 30. COMPAÃ‘ÃA (Jefaturas)
            { "codigo": "30.11", "descripcion": "Primer jefe de compaÃ±Ã­a", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "33.12", "descripcion": "Segundo jefe de compaÃ±Ã­a", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "30.13", "descripcion": "Jefe de operaciones emergencias", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "30.14", "descripcion": "Jefe operaciÃ³n 1", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "30.15", "descripcion": "Jefe de operaciones 2", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "30.16", "descripcion": "Jefe de operaciones 3", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "30.17", "descripcion": "Jefe de administraciÃ³n", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "30.18", "descripcion": "Jefe de servicio", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "30.19", "descripcion": "Jefe de disciplina", "categoria": "CompaÃ±Ã­a" },
            { "codigo": "30.22", "descripcion": "Medico de turno", "categoria": "CompaÃ±Ã­a" },

            // SECCIÃ“N X. LOCALES
            { "codigo": "X6", "descripcion": "Comando regional", "categoria": "Locales" },
            { "codigo": "X7", "descripcion": "Cuartel de compaÃ±Ã­a", "categoria": "Locales" },
            { "codigo": "X14", "descripcion": "Domicilio", "categoria": "Locales" },
            { "codigo": "X15", "descripcion": "Centro de trabajo", "categoria": "Locales" },

            // SECCIÃ“N 1. PERSONAL RENTADO (Personal)
            { "codigo": "1.01", "descripcion": "Contador", "categoria": "Personal" },
            { "codigo": "1.02", "descripcion": "Secretaria", "categoria": "Personal" },
            { "codigo": "1.03", "descripcion": "Auxiliar de secretaria", "categoria": "Personal" },
            { "codigo": "1.04", "descripcion": "Chofer cuartelero", "categoria": "Personal" },
            { "codigo": "1.05", "descripcion": "Cuartelero", "categoria": "Personal" },
            { "codigo": "1.06", "descripcion": "Operador de radio", "categoria": "Personal" },
            { "codigo": "1.07", "descripcion": "Obrero", "categoria": "Personal" },
            { "codigo": "1.08", "descripcion": "Conserje", "categoria": "Personal" },
            { "codigo": "1.09", "descripcion": "Practicante", "categoria": "Personal" }
        ];

        // 2. OBTENER ELEMENTOS DEL DOM
        const input = document.getElementById("busqueda");
        const lista = document.getElementById("lista");
        const contenedorFiltros = document.getElementById("filtros");

        let categoriaActiva = "Todos";

        // 3. FUNCIÃ“N PARA DIBUJAR LA LISTA
        function mostrarClaves(filtradas) {
            lista.innerHTML = "";
            filtradas.forEach(c => {
                const div = document.createElement("div");
                div.classList.add("item");
                
                div.innerHTML = `
                    <div class="item-header">
                        <span class="codigo">${c.codigo}</span>
                        <span class="categoria-tag">${c.categoria}</span>
                    </div>
                    <span class="descripcion">${c.descripcion}</span>
                `;
                lista.appendChild(div);
            });
        }

        // â­ NUEVA FUNCIÃ“N AÃ‘ADIDA: NORMALIZAR (Para ignorar tildes) â­
        function normalizar(texto) {
            // Descompone caracteres acentuados y elimina los acentos.
            return texto.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }


        // 4. FUNCIÃ“N MAESTRA DE FILTRADO POR CATEGORÃA
        function filtrarPorCategoria(categoria) {
            let listaResultado = claves;

            if (categoria !== "Todos") {
                listaResultado = claves.filter(clave => clave.categoria === categoria);
            }

            mostrarClaves(listaResultado);
            
            document.querySelectorAll('#filtros button').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-filtro="${categoria}"]`).classList.add('active');
            
            categoriaActiva = categoria; 
        }

        // 5. EVENTO PARA EL FILTRO POR BOTÃ“N (CLICK)
        contenedorFiltros.addEventListener("click", (evento) => {
            if (evento.target.tagName === 'BUTTON' && evento.target.dataset.filtro) {
                const categoriaSeleccionada = evento.target.dataset.filtro;
                input.value = "";
                filtrarPorCategoria(categoriaSeleccionada);
            }
        });

        // 6. EVENTO PARA LA BÃšSQUEDA POR TEXTO (INPUT) - Â¡AHORA LLAMA A normalizar() CORRECTAMENTE!
        input.addEventListener("input", () => {
            // Normaliza el texto de bÃºsqueda del usuario (insensible a acentos)
            const texto = normalizar(input.value.toLowerCase());

            // 6.1. Determinar en quÃ© subconjunto buscar (sin cambios)
            let listaBase = claves;
            if (categoriaActiva !== "Todos") {
                listaBase = claves.filter(clave => clave.categoria === categoriaActiva);
            }

            // 6.2. Aplicar el filtro de texto, normalizando el contenido de la lista:
            const filtradasPorTexto = listaBase.filter(c =>
                // Normaliza el contenido de la descripciÃ³n antes de comparar
                normalizar(c.descripcion.toLowerCase()).includes(texto) ||
                // Normaliza el contenido del cÃ³digo (opcional, pero seguro)
                normalizar(c.codigo).includes(texto)
            );

            mostrarClaves(filtradasPorTexto);
        });

        // 7. FUNCIÃ“N PARA ENFOCAR EL INPUT CON CTRL+F - FUNCIONALIDAD AÃ‘ADIDA
        document.addEventListener('keydown', (event) => {
            // Verifica Ctrl (Windows/Linux) o Cmd (Mac) y la tecla 'f'
            if ((event.ctrlKey || event.metaKey) && event.key === 'f') {
                // Evita que el navegador abra su propia barra de bÃºsqueda
                event.preventDefault();

                // Enfoca el campo de bÃºsqueda
                input.focus();

                // Selecciona el texto actual
                input.select();
            }
        });

        // INICIALIZACIÃ“N: Mostrar la lista completa al cargar la pÃ¡gina
        filtrarPorCategoria("Todos");

    </script>
</body>
</html>
